{"remainingRequest":"/Users/apple/Desktop/qz/node_modules/thread-loader/dist/cjs.js!/Users/apple/Desktop/qz/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/qz/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Desktop/qz/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/qz/src/views/FindPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/qz/src/views/FindPassword.vue","mtime":1569477177309},{"path":"/Users/apple/Desktop/qz/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//qz_login.less\nimport common from '@/utils/common';\nimport Headers from '@/components/Headers';\nimport { GET_CAPTCHA } from '@/store/actions.type';\nimport signJs from '@/utils/sign';\nimport { constants } from 'crypto'; // import ApiService from '@/service/api.service'\n\nexport default {\n  name: 'findPassword',\n  components: {\n    Headers: Headers\n  },\n  data: function data() {\n    return {\n      setTitle: '找回密码',\n      codeShow: true,\n      TIME_COUNT: 0,\n      timer: 0,\n      count: 0,\n      user: {\n        token: '',\n        userType: 3,\n        cellPhone: '',\n        type: '103' //短信模板类型：101：注册;102：登录；103：找回密码/支付密码；105:注册成功;106:修改手机绑定;110:微信绑定手机号\n\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.getCode1();\n  },\n  methods: {\n    viewDefault: function viewDefault() {\n      window.scroll(0, 0);\n    },\n    getCode1: function getCode1() {\n      var script = document.createElement('script');\n      script.src = \"https://cdn.dingxiang-inc.com/ctu-group/captcha-ui/index.js\";\n      script.language = 'JavaScript';\n      document.body.appendChild(script);\n    },\n    getMyCode: function getMyCode() {\n      var _this = this;\n\n      if (_this.user.cellPhone == '') {\n        _this.$toast('请输入手机号');\n      } else {\n        common.validatePhoneNum(_this.user.cellPhone);\n\n        var myCaptcha = _dx.Captcha(document.getElementById('ic'), {\n          appId: '7035b7125c0596a0ee719ef95e3f5f30',\n          type: 'basic',\n          style: 'popup',\n          success: function success(token) {\n            common.getCode(_this); // console.log('token:', token) //这里是通过第三方获取的token 可以打印出token的值\n\n            var data = {\n              cellPhone: _this.user.cellPhone,\n              type: parseInt(_this.user.type),\n              token: token\n            }; // console.log('token:', token) //这里也可以打印出token的值\n\n            var params = signJs.miscellaneous.signedParams(data);\n\n            _this.$axios.get('/common/getmsAuthCode'.concat(\"?cellPhone=\", params.cellPhone, \"&type=\").concat(params.type, \"&sign=\").concat(params.sign, \"&token=\").concat(token), {}, {\n              headers: {\n                'Content-Type': 'application/json',\n                token: token //这里是拼接地址传的token\n\n              }\n            }).then(function (res) {\n              // console.log(res)\n              if (res.data.status == 'OK') {// console.log(res)\n              }\n            }).catch(function (error) {// console.log(error)\n            });\n          }\n        });\n\n        myCaptcha.show();\n      }\n    },\n    submit: function submit() {\n      var _this = this;\n\n      var data = {\n        // authCode: \"1111\",\n        authCode: _this.user.code.toString(),\n        cellPhone: _this.user.cellPhone,\n        passWord: _this.user.pwdInput,\n        userType: _this.user.userType\n      };\n\n      if (!common.validatePhoneNum(_this.user.cellPhone)) {\n        _this.$toast('请输入正确的手机号码');\n      } else if (!_this.user.code) {\n        _this.$toast('验证码不能为空');\n      } else if (!_this.user.pwdInput) {\n        _this.$toast('密码不能为空');\n      } else if (common.isNumberOr(_this.user.pwdInput)) {\n        // _this.$toast('密码格式不正确')\n        // console.log(_this.user.pwdInput)\n        console.log(common.isNumberOr(_this.user.pwdInput));\n      } else {\n        _this.$axios.post('user/resetPassWord', signJs.miscellaneous.signedParams(data)).then(function (res) {\n          // console.log(res)\n          if (res.data.status == 'OK') {\n            _this.$router.push('/');\n          } else {\n            _this.$toast('res.data.message');\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["FindPassword.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <headers :setTitle=\"setTitle\"></headers>\n    <div class=\"qz_boxs qz_topBor\">\n      <div class=\"qz_login_box\">\n        <div class=\"qz_login_list\">\n          <input\n            type=\"tel\"\n            placeholder=\"请输入手机号\"\n            v-model=\"user.cellPhone\"\n            oninput=\"if(value.length>11)value=value.slice(0,11)\"\n          />\n        </div>\n        <div class=\"qz_login_list qz_login_list2\">\n          <input type=\"tel\" placeholder=\"请输入验证码\" v-model=\"user.code\" />\n          <span @click=\"getMyCode\" v-show=\"codeShow\">获取验证码</span>\n          <span v-show=\"!codeShow\">{{count}}&nbsp;s</span>\n          <div id=\"ic\"></div>\n        </div>\n        <div class=\"qz_login_list\">\n          <input\n            v-model=\"user.pwdInput\"\n            oninput=\"if(value.length>6)value=value.slice(0,20)\"\n            type=\"password\"\n            placeholder=\"请输入新密码（最少6位字符，数字+字母）\"\n          />\n        </div>\n      </div>\n      <div class=\"qz_login_btns\" @click=\"submit\">提交</div>\n    </div>\n  </div>\n</template>\n<script>\n//qz_login.less\nimport common from '@/utils/common'\nimport Headers from '@/components/Headers'\nimport { GET_CAPTCHA } from '@/store/actions.type'\nimport signJs from '@/utils/sign'\nimport { constants } from 'crypto'\n// import ApiService from '@/service/api.service'\nexport default {\n  name: 'findPassword',\n  components: { Headers },\n  data() {\n    return {\n      setTitle: '找回密码',\n      codeShow: true,\n      TIME_COUNT: 0,\n      timer: 0,\n      count: 0,\n      user: {\n        token: '',\n        userType: 3,\n        cellPhone: '',\n        type: '103' //短信模板类型：101：注册;102：登录；103：找回密码/支付密码；105:注册成功;106:修改手机绑定;110:微信绑定手机号\n      }\n    }\n  },\n  mounted() {\n    this.getCode1()\n  },\n  methods: {\n    viewDefault: function() {\n      window.scroll(0, 0)\n    },\n    getCode1() {\n      const script = document.createElement('script')\n      script.src = `https://cdn.dingxiang-inc.com/ctu-group/captcha-ui/index.js`\n      script.language = 'JavaScript'\n      document.body.appendChild(script)\n    },\n    getMyCode() {\n      let _this = this\n      if (_this.user.cellPhone == '') {\n        _this.$toast('请输入手机号')\n      } else {\n        common.validatePhoneNum(_this.user.cellPhone)\n        const myCaptcha = _dx.Captcha(document.getElementById('ic'), {\n          appId: '7035b7125c0596a0ee719ef95e3f5f30',\n          type: 'basic',\n          style: 'popup',\n          success: function(token) {\n            common.getCode(_this)\n            // console.log('token:', token) //这里是通过第三方获取的token 可以打印出token的值\n            let data = {\n              cellPhone: _this.user.cellPhone,\n              type: parseInt(_this.user.type),\n              token: token\n            }\n            // console.log('token:', token) //这里也可以打印出token的值\n            let params = signJs.miscellaneous.signedParams(data)\n            _this.$axios\n              .get(\n                `${'/common/getmsAuthCode'}?cellPhone=${\n                  params.cellPhone\n                }&type=${params.type}&sign=${params.sign}&token=${token}`,\n                {},\n                {\n                  headers: {\n                    'Content-Type': 'application/json',\n                    token: token //这里是拼接地址传的token\n                  }\n                }\n              )\n              .then(res => {\n                // console.log(res)\n                if (res.data.status == 'OK') {\n                  // console.log(res)\n                }\n              })\n              .catch(error => {\n                // console.log(error)\n              })\n          }\n        })\n        myCaptcha.show()\n      }\n    },\n    submit() {\n      let _this = this\n      let data = {\n        // authCode: \"1111\",\n        authCode: (_this.user.code).toString(),\n        cellPhone: _this.user.cellPhone,\n        passWord: _this.user.pwdInput,\n        userType: _this.user.userType\n      }\n\n      if (!common.validatePhoneNum(_this.user.cellPhone)) {\n        _this.$toast('请输入正确的手机号码')\n      } else if (!_this.user.code) {\n        _this.$toast('验证码不能为空')\n      } else if (!_this.user.pwdInput) {\n        _this.$toast('密码不能为空')\n      } else if (common.isNumberOr(_this.user.pwdInput)) {\n        // _this.$toast('密码格式不正确')\n        // console.log(_this.user.pwdInput)\n        console.log(common.isNumberOr(_this.user.pwdInput))\n      } else {\n        _this.$axios\n          .post(\n            'user/resetPassWord',\n            signJs.miscellaneous.signedParams(data)\n          )\n          .then(res => {\n            // console.log(res)\n            if (res.data.status == 'OK') {\n            _this.$router.push('/')\n            } else {\n              _this.$toast('res.data.message')\n            }\n          })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/views"}]}