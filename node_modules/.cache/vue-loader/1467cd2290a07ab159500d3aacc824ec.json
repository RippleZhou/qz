{"remainingRequest":"/Users/apple/Desktop/qz/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/qz/src/views/setPaypw.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/apple/Desktop/qz/src/views/setPaypw.vue","mtime":1569475970614},{"path":"/Users/apple/Desktop/qz/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/qz/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.qz_setting,\n.qz_txt {\n  text-align: center;\n}\n.qz_setting {\n  font-size: 17px;\n  margin-top: 40px;\n  margin-bottom: 15px;\n}\n.qz_txt {\n  margin-bottom: 30px;\n}\n",{"version":3,"sources":["setPaypw.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"setPaypw.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <headers :setTitle=\"setTitle\"></headers>\n    <div class=\"qz_boxs qz_topBor\">\n      <div class=\"qz_setting\">设置支付密码</div>\n      <div class=\"qz_txt\">请设置支付密码，用户提现验证</div>\n    </div>\n    <!-- 密码输入框 -->\n    <van-password-input\n      :value=\"value\"\n      info=\"密码为 6 位数字\"\n      :focused=\"showKeyboard\"\n      @focus=\"showKeyboard = true\"\n    />\n\n    <!-- 数字键盘 -->\n    <van-number-keyboard\n      :show=\"showKeyboard\"\n      @input=\"onInput\"\n      @delete=\"onDelete\"\n      @blur=\"showKeyboard = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport Headers from \"@/components/Headers\";\nimport { Toast } from \"vant\";\nimport { GET_PAY_PW } from \"@/store/actions.type\";\nimport signJs from \"@/utils/sign\";\nexport default {\n  name: \"setPaypw\",\n  data() {\n    return {\n      setTitle: \"设置支付密码\",\n      value: \"\",\n      showKeyboard: false\n    };\n  },\n  computed: mapGetters([\"user\", \"error\", \"payPw\"]),\n  watch: {\n    value(newVal) {\n      if (newVal.length === 6) {\n        Toast.loading({\n          mask: true,\n          message: \"设置中...\"\n        })\n        let {userCode,cellPhone}=this.user\n        let config={\n            userCode,cellPhone,payPassWord:newVal,type:'0',isSettingPayPw:'0'\n        }\n        config = signJs.miscellaneous.signedParams(config);\n        this.$store\n            .dispatch(GET_PAY_PW, config)\n            .then((res) => {\n                if(res.status==\"OK\"){\n                    Toast('支付密码设置成功！');\n                    setTimeout(function(){\n                        this.$router.go(-1);\n                    },2000)\n                }else{\n                    Toast(res.message);\n                }\n            })\n            .catch(data => {\n                console.log(data);\n            });\n      }\n    }\n  },\n  methods: {\n    onInput(key) {\n      this.value = (this.value + key).slice(0, 6);\n    },\n    onDelete() {\n      this.value = this.value.slice(0, this.value.length - 1);\n    }\n  },\n  components: { Headers }\n};\n</script>\n\n<style lang=\"less\">\n.qz_setting,\n.qz_txt {\n  text-align: center;\n}\n.qz_setting {\n  font-size: 17px;\n  margin-top: 40px;\n  margin-bottom: 15px;\n}\n.qz_txt {\n  margin-bottom: 30px;\n}\n</style>\n"]}]}